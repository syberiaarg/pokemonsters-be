{"version":3,"file":"users.js","names":["fetchUsers","db","select","table","data","createUser","user","where","email","first","repeated","status","message","insert","fetchUser"],"sources":["../../src/services/users.js"],"sourcesContent":["import { db } from \"../helpers/database\";\n\nconst fetchUsers = async () => {\n  const data = await db.select().table('users')\n  return data;\n};\n\nconst createUser = async (user) => {\n\n  const repeated = await db.select().table('users').where('email', user.email).first()\n\n  if (repeated) { throw { status: 400, message: 'User already exist' } }\n\n  return await db.table('users').insert(user)\n};\n\nconst fetchUser = async () => {\n  return \"fetchOne\";\n};\n\nexport default { fetchUsers, fetchUser, createUser };\n"],"mappings":";;;;;;;;;;;;;AAAA;;AAEA,IAAMA,UAAU;EAAA,yFAAG;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OACEC,YAAA,CAAGC,MAAH,GAAYC,KAAZ,CAAkB,OAAlB,CADF;;UAAA;YACXC,IADW;YAAA,iCAEVA,IAFU;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAVJ,UAAU;IAAA;EAAA;AAAA,GAAhB;;AAKA,IAAMK,UAAU;EAAA,0FAAG,kBAAOC,IAAP;IAAA;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,OAEML,YAAA,CAAGC,MAAH,GAAYC,KAAZ,CAAkB,OAAlB,EAA2BI,KAA3B,CAAiC,OAAjC,EAA0CD,IAAI,CAACE,KAA/C,EAAsDC,KAAtD,EAFN;;UAAA;YAEXC,QAFW;;YAAA,KAIbA,QAJa;cAAA;cAAA;YAAA;;YAAA,MAIK;cAAEC,MAAM,EAAE,GAAV;cAAeC,OAAO,EAAE;YAAxB,CAJL;;UAAA;YAAA;YAAA,OAMJX,YAAA,CAAGE,KAAH,CAAS,OAAT,EAAkBU,MAAlB,CAAyBP,IAAzB,CANI;;UAAA;YAAA;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAAVD,UAAU;IAAA;EAAA;AAAA,GAAhB;;AASA,IAAMS,SAAS;EAAA,0FAAG;IAAA;MAAA;QAAA;UAAA;YAAA,kCACT,UADS;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAH;;EAAA,gBAATA,SAAS;IAAA;EAAA;AAAA,GAAf;;eAIe;EAAEd,UAAU,EAAVA,UAAF;EAAcc,SAAS,EAATA,SAAd;EAAyBT,UAAU,EAAVA;AAAzB,C"}